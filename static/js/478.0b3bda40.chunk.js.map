{"version":3,"file":"static/js/478.0b3bda40.chunk.js","mappings":"iKACA,QAAuB,+BAAvB,EAAoE,sCAApE,EAA6K,uC,sFCgBtK,MAAMA,EAAmBA,KAC9B,MAAMC,GAAwBC,EAAAA,EAAAA,MACxBC,GAAgBC,EAAAA,EAAAA,IAAYC,EAAAA,IAC5BC,GAAcF,EAAAA,EAAAA,IAAYG,EAAAA,IAC1BC,GAAeJ,EAAAA,EAAAA,IAAYK,EAAAA,IAC3BC,GAASN,EAAAA,EAAAA,IAAYO,EAAAA,KAE3BC,EAAAA,EAAAA,YAAU,KACRX,GCbqCA,IACvC,MAAMY,GAA2BC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAIC,EAAAA,KAAMC,IACjD,MAAMC,EAA4BD,EAASE,MAC3C,GAAID,EAAM,CACR,MAAME,EAAsCC,OAAOC,OACjDJ,EAAKf,eACLoB,KAAKC,IAAgB,IAClBA,EACHC,GAAID,EAAiBE,SAEvBzB,GAAS0B,EAAAA,EAAAA,IAAiBP,GAC5B,MACEQ,QAAQC,MAAM,oBAChB,IAGF,MAAO,KACLhB,GAAa,CACd,GDL+B,GAC7B,CAACZ,KAEJW,EAAAA,EAAAA,YAAU,IACD,KACLX,GAAS6B,EAAAA,EAAAA,MAAa,GAEvB,CAAC7B,IAEJ,MAAM8B,GAAwBC,EAAAA,EAAAA,GAAY7B,EAAeO,GACnDuB,EAAuBF,EAAsBG,MACjD,EACA5B,EAAcE,GAEV2B,EACJF,EAAqBG,OAASjC,EAAciC,QACX,IAAjCL,EAAsBK,OAMxB,OACEC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,CACmC,IAAhCN,EAAqBG,QACpBI,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAASH,SACrBN,EAAqBV,KAAKoB,IACzBH,EAAAA,EAAAA,KAACI,EAAAA,EAAgB,CAEfD,aAAcA,GADTA,EAAalB,SAMxBe,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAiBH,UAC/BF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,4EAEK7B,EAAO,UAIlByB,IACCK,EAAAA,EAAAA,KAAA,UAAQK,QAxBSC,KACrB7C,GAAS8C,EAAAA,EAAAA,MAAW,EAuBiBN,UAAWC,EAAgBH,SAAC,gBAI9D,EEtEP,EAA0B,kC,wBCK1B,MAYA,EAZyBS,KAErBR,EAAAA,EAAAA,KAAA,WAASC,UAAWC,EAAYH,UAC9BF,EAAAA,EAAAA,MAAA,OAAKI,UAAU,YAAWF,SAAA,EACxBC,EAAAA,EAAAA,KAACS,EAAAA,EAAM,KACPT,EAAAA,EAAAA,KAACxC,EAAgB,KACjBwC,EAAAA,EAAAA,KAACU,EAAAA,EAAQ,Q","sources":["webpack://psychologists-ts-version/./src/components/PsychologistList/PsychologistList.module.css?0ef3","components/PsychologistList/PsychologistList.tsx","redux/psychologists/actions.ts","webpack://psychologists-ts-version/./src/pages/Psychologist/PsychologistPage.module.css?cbcf","pages/Psychologist/PsychologistPage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"PsychologistList_list__+petu\",\"loadMoreBtn\":\"PsychologistList_loadMoreBtn__MzkWH\",\"filterLabel\":\"PsychologistList_filterLabel__YLkkR\",\"emptyWrapper\":\"PsychologistList_emptyWrapper__m2UJz\"};","import css from \"./PsychologistList.module.css\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  selectPsychologists,\n  selectCurrentPage,\n  selectItemsPerPage,\n  selectFilter,\n  nextPage,\n  resetState,\n} from \"../../redux/psychologists/slice\";\nimport { fetchPsychologists } from \"../../redux/psychologists/actions\";\nimport { AppDispatch } from \"../../redux/store\";\nimport { applyFilter } from \"../../services/applyFilter\";\n\nimport { PsychologistItem } from \"../PsycologistItem/PsychologistItem\";\n\nexport const PsychologistList = () => {\n  const dispatch: AppDispatch = useDispatch();\n  const psychologists = useSelector(selectPsychologists);\n  const currentPage = useSelector(selectCurrentPage);\n  const itemsPerPage = useSelector(selectItemsPerPage);\n  const filter = useSelector(selectFilter);\n\n  useEffect(() => {\n    dispatch(fetchPsychologists());\n  }, [dispatch]);\n\n  useEffect(() => {\n    return () => {\n      dispatch(resetState());\n    };\n  }, [dispatch]);\n\n  const filteredPsychologists = applyFilter(psychologists, filter);\n  const displayPsychologists = filteredPsychologists.slice(\n    0,\n    currentPage * itemsPerPage\n  );\n  const itemsNeedToBeDisplayed =\n    displayPsychologists.length < psychologists.length &&\n    filteredPsychologists.length !== 0;\n\n  const handleLoadMore = () => {\n    dispatch(nextPage());\n  };\n\n  return (\n    <>\n      {displayPsychologists.length !== 0 ? (\n        <ul className={css.list}>\n          {displayPsychologists.map((psychologist) => (\n            <PsychologistItem\n              key={psychologist.id}\n              psychologist={psychologist}\n            />\n          ))}\n        </ul>\n      ) : (\n        <div className={css.emptyWrapper}>\n          <p>\n            We couldn't find any psychologists that match your search criteria\n            for \"{filter}\".\n          </p>\n        </div>\n      )}\n      {itemsNeedToBeDisplayed && (\n        <button onClick={handleLoadMore} className={css.loadMoreBtn}>\n          Load More\n        </button>\n      )}\n    </>\n  );\n};\n","import { setPsychologists } from \"./slice\";\nimport { onValue, ref, Unsubscribe } from \"firebase/database\";\nimport { db } from \"../../firebase/config\";\nimport { Dispatch } from \"redux\";\nimport { IPsychologist } from \"../../@types/types\";\n\ninterface FirebaseData {\n  psychologists: {\n    [id: string]: IPsychologist;\n  };\n}\n\nexport const fetchPsychologists = () => (dispatch: Dispatch) => {\n  const unsubscribe: Unsubscribe = onValue(ref(db), (snapshot) => {\n    const data: FirebaseData | null = snapshot.val();\n    if (data) {\n      const psychologistsArray: IPsychologist[] = Object.values(\n        data.psychologists\n      ).map((psychologistData) => ({\n        ...psychologistData,\n        id: psychologistData.name,\n      }));\n      dispatch(setPsychologists(psychologistsArray));\n    } else {\n      console.error(\"No data available\");\n    }\n  });\n\n  return () => {\n    unsubscribe();\n  };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"PsychologistPage_section__iAxJ7\"};","import { PsychologistList } from \"../../components/PsychologistList/PsychologistList\";\nimport css from \"./PsychologistPage.module.css\";\nimport { Filter } from \"../../components/Filter/Filter\";\n\nimport { ScrollUp } from \"../../components/ScrollUp/ScrollUp\";\n\nconst PsychologistPage = () => {\n  return (\n    <section className={css.section}>\n      <div className=\"container\">\n        <Filter />\n        <PsychologistList />\n        <ScrollUp />\n      </div>\n    </section>\n  );\n};\n\nexport default PsychologistPage;\n"],"names":["PsychologistList","dispatch","useDispatch","psychologists","useSelector","selectPsychologists","currentPage","selectCurrentPage","itemsPerPage","selectItemsPerPage","filter","selectFilter","useEffect","unsubscribe","onValue","ref","db","snapshot","data","val","psychologistsArray","Object","values","map","psychologistData","id","name","setPsychologists","console","error","resetState","filteredPsychologists","applyFilter","displayPsychologists","slice","itemsNeedToBeDisplayed","length","_jsxs","_Fragment","children","_jsx","className","css","psychologist","PsychologistItem","onClick","handleLoadMore","nextPage","PsychologistPage","Filter","ScrollUp"],"sourceRoot":""}